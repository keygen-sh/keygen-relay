# add licenses to different pools
exec relay add --pool prod --file license.lic --key 9E32DD-D8CC22-771926-C2D834-C506DC-V3 --public-key e8601e48b69383ba520245fd07971e983d06d22c4257cfd82304601479cee788
exec relay add --pool dev --file license_2.lic --key 9A96B8-FD08CD-8C433B-7657C8-8A8655-V3 --public-key e8601e48b69383ba520245fd07971e983d06d22c4257cfd82304601479cee788

# list licenses in prod pool only
exec relay ls --pool prod --plain

# should show only the prod license
stdout 'dcea31a4-1664-4633-9f52-4a1b0b5ea2ef'
! stdout 'e9b6f649-d8c2-49e3-9d41-aab32f0d08a3'

# list licenses in dev pool only  
exec relay ls --pool dev --plain

# should show only the dev license
stdout 'e9b6f649-d8c2-49e3-9d41-aab32f0d08a3'
! stdout 'dcea31a4-1664-4633-9f52-4a1b0b5ea2ef'

# list all licenses (no pool filter)
exec relay ls --plain

# should show both licenses
stdout 'dcea31a4-1664-4633-9f52-4a1b0b5ea2ef'
stdout 'e9b6f649-d8c2-49e3-9d41-aab32f0d08a3'

# list licenses from non-existent pool
exec relay ls --pool nonexistent --plain

# should show pool not found error
stderr 'error: pool not found'